# ===================================
# Indy Nexus Environment Configuration
# ===================================
# 
# Copy this file to .env and fill in your actual values.
# NEVER commit .env to version control!
#
# Required environment variables are marked with [REQUIRED]
# Optional variables have default values shown

# ===================================
# SECURITY & AUTHENTICATION
# ===================================

# [REQUIRED] Secret key for JWT token generation and validation
# Generate a secure random string (at least 64 characters)
# Example: openssl rand -hex 64
JWT_SECRET=your_jwt_secret_key_here_change_this_in_production

# Token expiration time (default: 24h)
JWT_EXPIRES_IN=24h

# ===================================
# SERVER CONFIGURATION
# ===================================

# Server port (default: 3000)
PORT=3000

# Node environment: development, production, test
NODE_ENV=development

# ===================================
# DATABASE CONFIGURATION
# ===================================

# Path to SQLite database file
# Will be created if it doesn't exist
DATABASE_PATH=./users.db

# Database connection pool size (for future scaling)
DATABASE_POOL_SIZE=5

# ===================================
# API CONFIGURATION
# ===================================

# Base URL for API endpoints (used by frontend)
API_BASE_URL=http://localhost:3000/api

# Allowed CORS origins (comma-separated)
# Example: http://localhost:3000,http://localhost:8080,https://yourdomain.com
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:46228

# ===================================
# RATE LIMITING
# ===================================

# Maximum authentication attempts per IP in window
AUTH_RATE_LIMIT_MAX=5

# Rate limit window in minutes
AUTH_RATE_LIMIT_WINDOW_MINUTES=15

# General API rate limit per minute
API_RATE_LIMIT_MAX=100

# ===================================
# ARGON2 PASSWORD HASHING
# ===================================

# Memory cost in KB (default: 131072 = 128MB)
ARGON2_MEMORY_COST=131072

# Time cost (iterations, default: 4)
ARGON2_TIME_COST=4

# Parallelism factor (default: 4)
ARGON2_PARALLELISM=4

# ===================================
# SESSION CONFIGURATION
# ===================================

# Session timeout in hours (default: 24)
SESSION_TIMEOUT_HOURS=24

# Maximum sessions per user (default: 5)
MAX_SESSIONS_PER_USER=5

# ===================================
# SECURITY FEATURES
# ===================================

# Enable user approval system (default: true)
REQUIRE_USER_APPROVAL=true

# Enable account lockout after failed attempts (default: true)
ENABLE_ACCOUNT_LOCKOUT=true

# Failed login attempts before lockout (default: 5)
MAX_FAILED_ATTEMPTS=5

# Account lockout duration in minutes (default: 30)
LOCKOUT_DURATION_MINUTES=30

# ===================================
# LOGGING & MONITORING
# ===================================

# Log level: error, warn, info, debug
LOG_LEVEL=info

# Log file path (optional, console only if not set)
LOG_FILE_PATH=./logs/app.log

# Enable audit logging for security events
ENABLE_AUDIT_LOG=true

# ===================================
# EMAIL CONFIGURATION (Future Feature)
# ===================================

# SMTP settings for email notifications
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# EMAIL_FROM=noreply@yourdomain.com

# ===================================
# DEPLOYMENT SPECIFIC
# ===================================

# Trust proxy headers (for deployment behind nginx/cloudflare)
TRUST_PROXY=true

# Force HTTPS in production
FORCE_HTTPS=false

# ===================================
# DEVELOPMENT ONLY
# ===================================

# Enable debug mode (NEVER true in production!)
DEBUG_MODE=false

# Disable HTTPS checks in development
DISABLE_SECURITY_CHECKS=false